@* InfoTip.razor - A small info icon with tooltip that works on desktop (hover) and mobile (tap) *@

@if (showPopover)
{
    <div class="info-tip-backdrop" @onclick="ClosePopover" @ontouchend="ClosePopover"></div>
}

<span class="info-tip" @onclick="TogglePopover" @onclick:stopPropagation="true" @ontouchend:stopPropagation="true">
    <span class="info-icon" title="@Text">â“˜</span>
    @if (showPopover)
    {
        <span class="info-popover" @onclick:stopPropagation="true">@Text</span>
    }
</span>

@code {
    [Parameter]
    public string Text { get; set; } = "";

    private bool showPopover = false;

    private void TogglePopover()
    {
        showPopover = !showPopover;
    }

    private void ClosePopover()
    {
        showPopover = false;
    }
}
